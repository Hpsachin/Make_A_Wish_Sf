<apex:page controller="wishStarlightController" showHeader="false" standardStylesheets="false" applyHTMLTag="false" language="en-AU" cache="false">
    
     <html lang="en">
        <head>
            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <!-- scrolling viewport
<meta name="viewport" content="width=device-width, initial-scale=1" />
-->
            <!-- no scrolling viewport -->
            <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
            
            <title>Make A Wish - Wish Application</title>
            
            <apex:includeScript value="{!URLFOR($Resource.Resources, '/resources/js/jquery.js')}"/>
            <apex:includeScript value="{!URLFOR($Resource.Resources, '/resources/js/jquery.validate.js')}"/>
            <apex:includeScript value="{!URLFOR($Resource.Resources, '/resources/js/additional-methods.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.Resources, '/resources/bootstrap/js/bootstrap.min.js')}"/>
            <apex:stylesheet value="{!URLFOR($Resource.Resources, '/resources/bootstrap/css/bootstrap.min.css')}" />
    
            <style>
                
                
                div.form-group > label.control-label + div > span {
                padding-top: 7px;
                display: inline-block;
                }
                
                html, body { background-color:#0069ba; font-family: 'Century Gothic', cursive; }
                
                h1 { color:#0069ba; }
                h2, h3 { color:#333; }
                
                #formContainer { background-color:#fff; padding: 2% 8% 7% 5%; margin-bottom:5%; }
                
                .btn {
                margin:4px 10px 0px 0px;
                }
                
                .btn-row { text-align:center; margin-bottom:10px; }
                
                span.required, label.error { color: red; }
                
                .loadingDiv { text-align: center; }
                .loadingImage { height:32px; }
                
                .dateFormat { display:none; }
                
            </style>
            
        </head>
        
        <apex:variable var="labelCol" value="col-xs-12 col-sm-3" />
        <apex:variable var="labelOffset" value="col-sm-offset-3" />
        <apex:variable var="inputCol" value="col-xs-12 col-sm-9" />
        <apex:variable var="errorCol" value="col-xs-12 {!labelOffset} col-sm-9" />
        
        <body>
            <div class="container">
                
                <img src="{!URLFOR($Resource.Resources, '/resources/img/logo.jpg')}" alt="Make A Wish Australia" />
                
                
                <div id="formContainer" class="clearfix">
                    
                    <h1>
                        Starlight Wish Check
                    </h1>
                    

                    <apex:form >
                        
                        <apex:outputPanel id="formBody">
                            
                            <apex:outputPanel rendered="{!!passwordValid}">
                                
                                <div class="form-horizontal">
                                    
      
                                    <div class="form-group" style="margin-top:20px;">
                                        <label class="control-label {!labelCol}">
                                            Password
                                        </label>
                                        <div class="{!inputCol}">
                                            <apex:inputSecret value="{!passwordInput}" styleClass="form-control" />
                                        </div>
                                    </div>
                                    
                                    <div class="form-group" style="margin-top:20px;">
                                        <label class="control-label {!labelCol}">
                                        </label>
                                        <div class="{!inputCol}">
                                            <apex:commandButton value="submit" styleClass="btn btn-primary" id="checkForm" action="{!checkPassword}" reRender="formBody" />
                                        </div>
                                    </div>
                                    
                                    
                                    
                                    <apex:outputPanel rendered="{!errorMessage != null}">
                                        <p class="errorContainer">
                                            {!errorMessage}
                                        </p>
                                    </apex:outputPanel>
                                    
                                </div>
    
                            </apex:outputPanel>
                            
                            <apex:outputPanel rendered="{!passwordValid}" id="casePanel">
                                
                                <apex:actionRegion >
                                
                                <table class="table table-striped">
                                    
                                    <tr>
                                    	<th>Date</th><th>Child</th><th>Date of Birth</th><th>State</th><th>Starlight?</th>
                                    </tr>
                                    
                                    <apex:repeat value="{!caseList}" var="c">
                                        
                                        <tr>
                                        	<td>
                                                <apex:outputText value=" {!c.Starlight_Check_Request_Date_Time__c}" />
                                            </td>
                                            <td>
                                            	<apex:outputText value="{!c.C_First_Name__c} {!c.C_Last_Name__c}" />
                                            </td>
                                            <td>
                                            	<apex:outputText value=" {!c.C_DOB__c}" />
                                            </td>
                                            <td>
                                                <apex:outputText value="{!c.C_State__c}" />
                                            </td>
                                            <td>
                                                <apex:selectList value="{!c.Starlight_Response__c}" multiselect="false" size="1" required="false">
                                                    <apex:selectOption itemLabel="" itemValue="" />
                                                    <apex:selectOption itemLabel="Yes" itemValue="Yes" />
                                                    <apex:selectOption itemLabel="No" itemValue="No" />
                                                </apex:selectList>
                                            </td>
                                           
                                        </tr>
                                        
                                    </apex:repeat>
                                    
                                </table>
                                   
                                <div style="text-align:right;padding:2%;">
                                    <apex:actionStatus id="saveStatus">
                                        <apex:facet name="start">
                                            <img style="height:32px;margin-right:10px;" src="{!URLFOR($Resource.Resources, '/resources/img/loader.gif')}" alt="loading" />
                                        </apex:facet>
                                    </apex:actionStatus>
                                    <apex:commandButton styleClass="btn btn-primary" value="Save" action="{!saveCaseList}" reRender="casePanel" status="saveStatus" />
                                </div>
                                
                          		</apex:actionRegion>
                                
                            </apex:outputPanel>
                            
                            
                        </apex:outputPanel>
                    </apex:form>
                    
                </div>
                
            </div>
            
        </body>
    </html>
            
</apex:page>